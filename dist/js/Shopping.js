"use strict";var box=document.querySelector("#box"),ul=document.querySelector("ul");console.log($("#box").children("table"));var jsonStr=localStorage.getItem("carts"),arr=null;arr=jsonStr?JSON.parse(jsonStr):[];for(var btnArr=document.querySelectorAll(".addC"),i=0;i<btnArr.length;i++)btnArr[i].onclick=function(){var e=this.getAttribute("data-id"),r=proArr.find(function(t){return t.id==e});if(arr){var t=arr.find(function(t){return t.id==r.id});t?t.num++:(r.num=1,arr.push(r)),localStorage.setItem("carts",JSON.stringify(arr))}else{r.num=1;var n=[r];localStorage.setItem("carts",JSON.stringify(n))}upData()};function upData(){var e="";arr.forEach(function(t){e+='\n              <table>\n            <tr style="margin-top: 60px; display: inline-block" >\n                <td><input type="checkbox" class="checked"></td>\n                <td colspan="2"><img src="'.concat(t.img,'" alt="" style="width: 100px;height: 80px;margin-top: 60px;"><span>').concat(t.nameStr,'</span></td>\n                <td style="color: orangered ">').concat(t.priceStr,'</td>\n                <td><input type="text" value="').concat(t.num,'" class="inpChnage" data-id="').concat(t.priceStr,'"></td>\n                <td class="tda">').concat(t.num*t.priceStr,'</td>\n                <td >\n                <button class="removeB"  data-id="').concat(t.priceStr,'">删除</button>\n                <button class="jianB"  data-id="').concat(t.priceStr,'">减</button>\n                <button class="jiaB"  data-id="').concat(t.priceStr,'">加</button>\n\n                </td>\n            </tr>\n    </table>\n            ')}),box.innerHTML=e;for(var t=document.querySelectorAll(".removeB"),r=0;r<t.length;r++)t[r].onclick=function(){this.parentNode.parentNode.remove();var e=this.getAttribute("data-id");arr=arr.filter(function(t){return t.priceStr!=e}),localStorage.setItem("carts",JSON.stringify(arr))};for(var n=document.querySelectorAll(".inpChnage"),o=0;o<n.length;o++)n[o].onchange=function(){var e=this.getAttribute("data-id"),t=arr.find(function(t){return t.priceStr==e});this.value<=1?(t.num=1,this.value=1):t.num=this.value,localStorage.setItem("carts",JSON.stringify(arr)),upData()};for(var a=document.querySelectorAll(".jiaB"),c=0;c<a.length;c++)a[c].onclick=function(){var e=this.getAttribute("data-id");arr.find(function(t){return t.priceStr==e}).num++,localStorage.setItem("carts",JSON.stringify(arr)),upData()};for(var i=document.querySelectorAll(".jianB"),d=0;d<i.length;d++)i[d].onclick=function(){var e=this.getAttribute("data-id"),t=arr.find(function(t){return t.priceStr==e});t.num<=1?t.num=1:t.num--,localStorage.setItem("carts",JSON.stringify(arr)),upData()};var l=document.querySelectorAll(".checked"),s=(document.querySelectorAll("#price p")[0],document.querySelector(".pinput")),u=document.querySelector("#checkbox"),m=document.querySelectorAll(".tda");u.onclick=function(){if(u.checked){for(var t=0;t<l.length;t++)l[t].checked=!0;var e=0;m.forEach(function(t){e+=parseInt(t.innerHTML),console.log(t.innerHTML)}),s.value=e}else{for(var r=0;r<l.length;r++)l[r].checked=!1;s.value=0}}}function getAddress1582784398338(t){$(".bottom-l ul").children().remove(),t.list.forEach(function(t){var e=document.createElement("li"),r=document.createElement("a");r.href="javascript:;",r.innerText=t.name,e.appendChild(r),$(".bottom-l ul").append(e)}),$(".bottom-l ul li").first().remove()}function getAddress1582784284869(t){$(".bottom-r ul").children().remove(),t.list.forEach(function(t){var e=document.createElement("li"),r=document.createElement("a");r.href="javascript:;",r.innerText=t.name,e.appendChild(r),$(".bottom-r ul").append(e)}),$(".bottom-r ul li").first().remove()}upData(),$(function(){$(".header-div").on("click",function(t){$(".header-div-div").slideDown(500),$(this).css({background:"#fff"}),t.stopPropagation();var e=document.createElement("script");e.src="https://gensvr-n.vip.com/address/address?callback=getAddress1582784398338&areaid=0&newIsBind=0",$("body").append($(e)),$(e).remove()}),$(".header-div .top p").on("click",function(t){$(".header-div-div").hide(),$(".header-div").css({background:"#f5f5f5"}),t.stopPropagation()}),$(".header-div-div .bottom .btn1").on("click",function(t){$(this).css({"border-top":"2px solid #f10180",background:"#fff"}),$(".header-div-div .bottom .btn2").css({"border-top":"none",background:"#f8f8f8"}),$(".header-div div .bottom .bottom-l").show(),$(".header-div div .bottom .bottom-r").hide(),t.stopPropagation();var e=document.createElement("script");e.src="https://gensvr-n.vip.com/address/address?callback=getAddress1582784398338&areaid=0&newIsBind=0",$("body").append($(e)),$(e).remove()}),$(".header-div-div .bottom .btn2").on("click",function(t){$(this).css({"border-top":"2px solid #f10180",background:"#fff"}),$(".header-div-div .bottom .btn1").css({"border-top":"none",background:"#f8f8f8"}),$(".header-div div .bottom .bottom-r").show(),$(".header-div div .bottom .bottom-l").hide(),t.stopPropagation();var e=document.createElement("script");e.src="https://gensvr-n.vip.com/address/address?callback=getAddress1582784284869&areaid=104101&newIsBind=0",$("body").append($(e)),$(e).remove()}),$(document).on("click",function(t){$(".header-div-div").hide(),$(".header-div").css({background:"#f5f5f5"})})});